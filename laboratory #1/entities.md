# Аналіз сутностей системи вибору персонального репетитора

## 1. Ідентифікація сутностей-кандидатів

На основі аналізу вимог виявлено наступні ключові сутності (іменники):

### Основні сутності:
1. **User** (Користувач) - базова сутність для всіх користувачів системи
2. **Student** (Студент) - спеціалізація користувача
3. **Tutor** (Репетитор) - спеціалізація користувача
4. **Subject** (Предмет) - навчальні дисципліни
5. **TutorSubject** (Репетитор-Предмет) - зв'язок багато-до-багатьох між репетиторами та предметами
6. **TeachingLevel** (Рівень викладання) - рівні складності навчання
7. **City** (Місто) - географічні локації
8. **Review** (Відгук) - оцінки та коментарі студентів
9. **Schedule** (Розклад) - вільні години репетиторів
10. **Booking** (Бронювання) - запис на заняття

## 2. Детальний опис сутностей та їх атрибутів

### 2.1 User (Користувач)
**Призначення:** Базова сутність для зберігання загальної інформації про всіх користувачів системи

**Атрибути:**
- `user_id` (PK) - Унікальний ідентифікатор користувача
- `email` - Електронна пошта
- `password_hash` - Хеш пароля
- `first_name` - Ім'я
- `last_name` - Прізвище  
- `phone` - Номер телефону
- `user_type` - Тип користувача (student/tutor)
- `registration_date` - Дата реєстрації

### 2.2 Student (Студент)
**Призначення:** Розширена інформація про користувачів-студентів

**Атрибути:**
- `student_id` (PK, FK -> User.user_id) - Ідентифікатор студента
- `city_id` (FK -> City.city_id) - Місто проживання
- `age` - Вік студента
- `school_grade` - Клас (для школярів)

### 2.3 Tutor (Репетитор)
**Призначення:** Розширена інформація про користувачів-репетиторів

**Атрибути:**
- `tutor_id` (PK, FK -> User.user_id) - Ідентифікатор репетитора
- `city_id` (FK -> City.city_id) - Місто проживання репетитора
- `age` - Вік репетитора
- `years_experience` - Роки досвіду викладання
- `education` - Інформація про освіту
- `about_me` - Опис "про себе"
- `online_available` - Доступність онлайн занять
- `offline_available` - Доступність офлайн занять
- `address` - Статична адреса для офлайн занять
- `average_rating` - Середній рейтинг
- `total_reviews` - Кількість відгуків

### 2.4 Subject (Предмет)
**Призначення:** Каталог навчальних предметів

**Атрибути:**
- `subject_id` (PK) - Унікальний ідентифікатор предмета
- `name` - Назва предмета
- `category` - Категорія предмета (наприклад, "Точні науки", "Гуманітарні науки")
- `description` - Опис предмета

### 2.5 TeachingLevel (Рівень викладання)
**Призначення:** Рівні складності навчання

**Атрибути:**
- `level_id` (PK) - Унікальний ідентифікатор рівня
- `name` - Назва рівня
- `position` - Позиція рівня в освітній прогресії у списках та формах відображення (1 = початковий рівень, перший у списку)
- `description` - Опис рівня

**Можливі значення:**
- "1-4 класи (початкова школа)"
- "5-9 класи (середня школа)"
- "10-11 класи (старша школа)"
- "Підготовка до ДПА"
- "Підготовка до НМТ"
- "Підготовка до ЄВІ"

### 2.6 City (Місто)
**Призначення:** Географічні локації для офлайн занять

**Атрибути:**
- `city_id` (PK) - Унікальний ідентифікатор міста
- `name` - Назва міста
- `region` - Область/регіон
- `country` - Країна

### 2.7 TutorSubject (Репетитор-Предмет)
**Призначення:** Зв'язок між репетиторами та предметами з додатковою інформацією

**Атрибути:**
- `tutor_subject_id` (PK) - Унікальний ідентифікатор зв'язку
- `tutor_id` (FK -> Tutor.tutor_id) - Ідентифікатор репетитора
- `subject_id` (FK -> Subject.subject_id) - Ідентифікатор предмета
- `level_id` (FK -> TeachingLevel.level_id) - Рівень викладання
- `hourly_rate` - Ціна за годину

### 2.8 Schedule (Розклад)
**Призначення:** Вільні години репетиторів

**Атрибути:**
- `schedule_id` (PK) - Унікальний ідентифікатор слоту
- `tutor_id` (FK -> Tutor.tutor_id) - Ідентифікатор репетитора
- `date` - Дата
- `start_time` - Час початку
- `end_time` - Час закінчення
- `is_available` - Доступність слоту
- `created_at` - Час створення

### 2.9 Booking (Бронювання)
**Призначення:** Записи на заняття

**Атрибути:**
- `booking_id` (PK) - Унікальний ідентифікатор бронювання
- `student_id` (FK -> Student.student_id) - Ідентифікатор студента
- `tutor_id` (FK -> Tutor.tutor_id) - Ідентифікатор репетитора
- `subject_id` (FK -> Subject.subject_id) - Предмет
- `level_id` (FK -> TeachingLevel.level_id) - Рівень
- `schedule_id` (FK -> Schedule.schedule_id) - Посилання на слот розкладу
- `format` - Формат заняття (online/offline)
- `status` - Статус (pending/confirmed/completed/cancelled)
- `created_at` - Час створення
- `notes` - Додаткові примітки

### 2.10 Review (Відгук)
**Призначення:** Відгуки та оцінки репетиторів

**Атрибути:**
- `review_id` (PK) - Унікальний ідентифікатор відгуку
- `booking_id` (FK -> Booking.booking_id) - Пов'язане бронювання
- `student_id` (FK -> Student.student_id) - Автор відгуку
- `tutor_id` (FK -> Tutor.tutor_id) - Репетитор
- `rating` - Оцінка (1-5)
- `comment` - Текст відгуку
- `created_at` - Дата створення
- `is_anonymous` - Анонімність відгуку