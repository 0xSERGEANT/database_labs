# Система пошуку репетиторів - Аналіз ER діаграми

## 1. Вимоги:
### Призначення системи:
Система для пошуку репетиторів для індивідуальних занять. Учні можуть встановлювати фільтри відповідно до своїх потреб і вимог (предмет, ціна, формат проведення, місто та ін.) та переглядати базу репетиторів, які під них підпадають, також залишати відгуки.
### Потреби зацікавлених сторін:
- **Учні**: Пошук репетиторів, запис на заняття, пошук по фільтрам
- **Репетитори**: Створення профілю, вказання предметів викладання та цін, управління розкладом

### Дані для зберігання:
- Інформація про репетиторів і учнів
- Дані про предмети викладання та їх категорії, які предмети викладає конкретний репетитор
- Дані про заняття - дата, час, тривалість, статус (заброньовано / завершено / скасовано)
- Зв'язки між репетиторами та предметами з цінами
- Розклад занять та їх статуси
- Відгуки до заняття, рейтинг (1–5)
- Розклад – день тижня, час початку/кінця заняття, статус

### Бізнес-правила:
- Репетитор може викладати декілька предметів з різними цінами
- Заняття проводяться між конкретним студентом та репетитором з певного предмету
- Кожне завершене заняття може мати один відгук
- Рейтинг репетитора обчислюється на основі отриманих відгуків
- Репетитор має розклад, в якому вказано на який час у нього є вільні місця для нових учнів 

## 2. Список сутностей з атрибутами та пояснення зв'язків

### Сутності:

#### User (Користувач)
- **user_id** (PK): Унікальний ідентифікатор користувача
- **first_name**: Ім'я користувача (до 50 символів, обов'язкове)
- **last_name**: Прізвище користувача (до 50 символів, обов'язкове)
- **email**: Електронна пошта (унікальна, обов'язкова)
- **phone**: Номер телефону (унікальний)
- **role**: Роль користувача (студент або репетитор)
- **registration_date**: Дата реєстрації

#### Student (Студент)
- **student_id** (PK): Унікальний ідентифікатор студента
- **user_id** (FK): Посилання на базову інформацію користувача
- **school_grade**: Клас навчання (1-11)
- **city**: Місто проживання

#### Tutor (Репетитор)
- **tutor_id** (PK): Унікальний ідентифікатор репетитора
- **user_id** (FK): Посилання на базову інформацію користувача
- **education**: Освіта репетитора (текстовий опис)
- **experience_years**: Досвід роботи в роках (0-70)
- **city**: Місто проживання (і проведення оффлайн занять)
- **rating**: Середній рейтинг (0.00-5.00)

#### Subject (Предмет)
- **subject_id** (PK): Унікальний ідентифікатор предмету
- **name**: Назва предмету (обов'язкова)
- **category**: Категорія предмету

#### Tutor_Subject (Зв'язок репетитора з предметом)
- **tutor_subject_id** (PK): Унікальний ідентифікатор зв'язку
- **tutor_id** (FK): Посилання на репетитора
- **subject_id** (FK): Посилання на предмет
- **price**: Ціна за заняття
- **format_online**: Формат навчання онлайн
- **format_offline**: Формат навчання очно

#### Lesson (Заняття)
- **lesson_id** (PK): Унікальний ідентифікатор заняття
- **student_id** (FK): Посилання на студента
- **tutor_subject_id** (FK): Посилання на комбінацію репетитор-предмет
- **lesson_date**: Дата заняття
- **start_time**: Час початку
- **duration_minutes**: Тривалість в хвилинах
- **status**: Статус заняття (заплановано/завершено/скасовано)

#### Review (Відгук)
- **review_id** (PK): Унікальний ідентифікатор відгуку
- **lesson_id** (FK): Посилання на заняття (унікальне)
- **rating**: Оцінка (0.00-5.00)
- **comment**: Текстовий коментар
- **is_anonymous**: Анонімність відгуку
- **created_date**: Дата створення відгуку

### Пояснення зв'язків:

1. **User → Student/Tutor (1:1)**: Один користувач може мати профіль учня або репетитора. Це дозволяє розділити загальну інформацію про користувача від специфічної ролі.

2. **Tutor → Tutor_Subject (1:N)**: Один репетитор може викладати декілька предметів з різними умовами (ціна, формат).

3. **Subject → Tutor_Subject (1:N)**: Один предмет можуть викладати багато репетиторів. 

Ці два зв'язки (Tutor → Tutor_Subject, Subject → Tutor_Subject) репрезентують зв'язок many-to-many (N:N)

4. **Student → Lesson (1:N)**: Один учень може мати багато занять з різними репетиторами.

5. **Tutor_Subject → Lesson (1:N)**: конкретний предмет у репетитора може мати багато занять з різними учнями.

6. **Lesson → Review (1:1)**: Кожне заняття може мати максимум один відгук, але відгук не є обов'язковим.

7. **Tutor → Schedule (1:N)**: Один викладач може мати декілька записів у розкладі. 

## 3. Припущення та обмеження

### Припущення:
1. **Гнучкість ціноутворення**: Репетитор може встановлювати різні ціни для різних предметів
3. **Формат навчання**: Заняття можуть проводитися як онлайн, так і офлайн
4. **Анонімність відгуків**: Студенти можуть залишати анонімні відгуки
5. **Кількість предметів викладача**: при реєстрації викладач має вказати мінімум 1 предмет, який він викладає 

### Обмеження:
1. **Рейтинг репетитора**: Обмежений діапазоном 0.00-5.00
2. **Досвід роботи**: Максимум 70 років
3. **Клас навчання**: Тільки 1-11 класи
4. **Один відгук на заняття**: Кожне заняття може мати тільки один відгук
5. **Обов'язкові поля**: Email та номер телефону повинні бути унікальними
6. **Статуси занять**: Обмежені трьома варіантами (заплановано/завершено/скасовано)
